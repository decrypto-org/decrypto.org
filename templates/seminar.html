{% extends "index.html" %}

{% block content %}

<p>
The Decrypto Seminar is a weekly seminar in which members of our group
present a research-level topic in the area of blockchain research. The
presentations take place online every Wednesday and last about one hour,
with discussion and questions following. The presenter is an expert on
the topic they are presenting, usually one of the co-authors
of the paper presented or a software engineer in the implementation discussed. The presentations concern peer reviewed and
upcoming research papers, technical proposals, experiments and measurements,
as well as implementation and engineering topics on blockchains and
cryptocurrencies.
</p>

{% for seminar in page.extra.seminars %}
{% set iso_date = seminar.date ~ "T" ~ seminar.time ~ seminar.timezone %}
{% set seminar_tag = seminar.date | replace(from="-", to="_") %}
<div class='card mb-3'>
    <p class='card-header'>
        {{ iso_date | date(format="%d %B %Y %I:%M%P", timezone="Europe/London") }} {{ "(GMT) /" }}
        <span id="{{ seminar_tag }}-time">{{ iso_date }}</span>
        <script type="text/javascript">
            const utcTime{{ seminar_tag }} = new Date(Date.parse(document.getElementById("{{ seminar_tag }}-time").innerHTML))
            const earlyOrLate{{ seminar_tag }} = (utcTime{{ seminar_tag }}.getHours() < 12) ? "am" : "pm"
            const hours{{ seminar_tag }} = (utcTime{{ seminar_tag }}.getHours() == 12) ? 12 : utcTime{{ seminar_tag }}.getHours() % 12
            const timeString{{ seminar_tag }} = hours{{ seminar_tag }} + ":" + utcTime{{ seminar_tag }}.getMinutes().toString().padStart(2, "0")
                + earlyOrLate{{ seminar_tag }} + " (" + Intl.DateTimeFormat().resolvedOptions().timeZone + ")"
            document.getElementById("{{ seminar_tag }}-time").innerHTML = timeString{{ seminar_tag }}
        </script>
    </p>
    <div class='card-body'>
        <h5>{{ seminar.title }}</h5>
        <h6>{{ seminar.author }}, {{ seminar.affiliation }}</h6>
        <p class='card-text'>
            {{ seminar.abstract }}
        </p>
        {% if seminar.link %}
            <a class='btn btn-primary' href='{{ seminar.link }}'>Join seminar</a>
            {% if seminar.password %}
            <div style='padding-top: 1em; color: #555; font-size: 90%'>Password: {{ seminar.password }}</div>
            {% endif %}
        {% endif %}
        {% if seminar.slides %}
            <a class='btn btn-primary' href='{{ seminar.slides }}'>Get slides</a>
        {% endif %}
    </div>
</div>
{% endfor %}

{% endblock content %}
